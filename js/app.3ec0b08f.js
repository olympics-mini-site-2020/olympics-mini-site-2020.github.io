!function(e){function t(t){for(var a,s,l=t[0],i=t[1],c=t[2],d=0,p=[];d<l.length;d++)s=l[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&p.push(r[s][0]),r[s]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);for(u&&u(t);p.length;)p.shift()();return n.push.apply(n,c||[]),o()}function o(){for(var e,t=0;t<n.length;t++){for(var o=n[t],a=!0,l=1;l<o.length;l++){var i=o[l];0!==r[i]&&(a=!1)}a&&(n.splice(t--,1),e=s(s.s=o[0]))}return e}var a={},r={0:0},n=[];function s(t){if(a[t])return a[t].exports;var o=a[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.e=function(e){var t=[],o=r[e];if(0!==o)if(o)t.push(o[2]);else{var a=new Promise((function(t,a){o=r[e]=[t,a]}));t.push(o[2]=a);var n,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=function(e){return s.p+"js/"+({}[e]||e)+"."+{2:"9ab7bfe8"}[e]+".chunk.js"}(e);var i=new Error;n=function(t){l.onerror=l.onload=null,clearTimeout(c);var o=r[e];if(0!==o){if(o){var a=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src;i.message="Loading chunk "+e+" failed.\n("+a+": "+n+")",i.name="ChunkLoadError",i.type=a,i.request=n,o[1](i)}r[e]=void 0}};var c=setTimeout((function(){n({type:"timeout",target:l})}),12e4);l.onerror=l.onload=n,document.head.appendChild(l)}return Promise.all(t)},s.m=e,s.c=a,s.d=function(e,t,o){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(o,a,function(t){return e[t]}.bind(null,a));return o},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s.oe=function(e){throw console.error(e),e};var l=window.webpackJsonp=window.webpackJsonp||[],i=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var u=i;n.push([56,1]),o()}({109:function(e,t,o){},110:function(e,t,o){},111:function(e,t,o){},56:function(e,t,o){"use strict";o.r(t);o(109),o(110),o(111);var a=o(1),r=(o(112),o(54)),n=o(0),s=o(55);!function(e,t){n.a.registerPlugin(s.a),n.a.defaults({ease:"power2.out",duration:1}),String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)};let l=!1,i=t.documentElement,c=t.getElementById("globe"),u=t.getElementById("parts"),d=t.querySelector("section.landing"),p=t.querySelector("section.main"),h={temp:u.querySelector(".temp"),by:u.querySelector(".by"),share:u.querySelector(".part-share"),btns:{create:u.querySelector(".btn.create"),goback:u.querySelector(".btn.goback"),tohome:u.querySelector(".btn.tohome"),tosign:u.querySelector(".btn.tosign")}},g=new Array,b=new Array;function f(r){let s=-35,u=-30,d=-25,f=a.d().translate([287.5,287.5]).scale(287.5).clipAngle(90).rotate([s,u,d]),y=a.e().projection(f),m=a.h(c),v=m.append("svg").attrs({id:"globeSvg",viewBox:"0 0 840 840"}),w=v.append("g").attrs({width:575,height:575,class:"ball",transform:"translate(132.5, 132.5)"}).datum({x:0,y:0}),S=a.c().step([30,30]).precision(8);w.append("circle").attrs({cx:287.5,cy:287.5,r:287.5,fill:"#f2f2f2"}),w.append("path").datum(S).attr("class","graticule"),w.append("path").datum({type:"Sphere"}).attr("class","outline");v.append("svg:defs").call((function(e){e.append("svg:radialGradient").attr("id","radialGradient").call((function(e){v.gradientStart=e.append("svg:stop").attr("offset","0%").attr("stop-color","black").attr("stop-opacity","1"),e.append("svg:stop").attr("offset","40%").attr("stop-color","white").attr("stop-opacity","0")})),e.append("svg:mask").attr("id","gradientMask").attr("width",575).attr("height",575).attr("x",0).attr("y",0).call((function(e){v.mask=e.append("svg:circle").attr("cx",287.5).attr("cy",287.5).attr("r",575).attr("fill","url(#radialGradient)")}))}));let A=w.selectAll("path");"static"!=r&&w.on("mousemove",(function(){v.mask.attr("cx",287.5+.2*(a.a.x-420-287.5)).attr("cy",287.5+.2*(a.a.y-420-287.5)+86.25)})).on("mouseout",(function(e){})),f.rotate([s,u,d]),A.attr("d",y),function(r,s){o.e(2).then(o.t.bind(null,113,3)).then(({default:o})=>{let r=new Array,c={};for(let e=0;e<o.length;e++){let t=o[e].content.split("\n"),a=new Array,n=new Array;for(let e=0;e<t.length;e++){t[e]=t[e].trim();let o=t[e].indexOf("(5)"),r=t[e].indexOf("(7)");o>-1?a.push(t[e].slice(0,o).trim().capitalize()):r>-1&&n.push(t[e].slice(0,r).trim().capitalize())}c[o[e].keyword]={syllable5:a,syllable7:n},r.push(o[e].keyword)}let u=function(e,t){if(!c[e]||!c[e]["syllable"+t]||c[e]["syllable"+t].length<1)return!1;let o=c[e]["syllable"+t].length,a=Math.floor(Math.random()*o);return c[e]["syllable"+t][a]},d=function(){if(g.length<3)return;let t=g.sort((function(e,t){return.5-Math.random()})),o=new Array;t.forEach((function(e){o.push(x.nodes()[e].querySelector("text").innerHTML)}));let r=new Array(u(o[0],5),u(o[1],7),u(o[2],5));for(let e=0;e<r.length;e++)if(!1===r[e])return void d();a.h(".result").html(r.join("<br />")),e.addthis_share&&(e.addthis_share.title=r.join("\n")+"\n\n"+document.title,e.addthis_share.url=window.location.href)},f=s.append("g").attrs({class:"keywords",transform:"translate(420, 420)"}),y=a.g().domain([0,r.length]).range([0,360]),m=a.g().domain([0,100]).range([575/4,0]),v=a.f().x(0).y((function(e){return m(e)-122})),w=t.querySelector("#globe .tips"),S=t.querySelector("#globe .btn.next"),A=t.querySelector("#globe .btn.create"),k=t.querySelector("#globe .btn.sign"),L=t.querySelector("#globe .btn.create-another"),q=function(){S.classList.toggle("disabled",g.length<3),A.classList.toggle("disabled",g.length<3),n.a.set(w,{autoAlpha:g.length>0?0:1}),f.classed("disable",g.length>=3)};S.addEventListener("click",(function(){this.classList.contains("disabled")||(n.a.to("#globeSvg .keywords",{autoAlpha:0,duration:.4}),w.classList.add("hide"),t.querySelector("#globe .selecteds").classList.add("hide"),S.classList.remove("show"),t.querySelector("#globe .prayers").classList.add("show"),t.querySelector("#globe .textarea").classList.add("show"),A.classList.add("show"))})),A.addEventListener("click",(function(){this.classList.contains("disabled")||(t.querySelector("#globe .selecteds").classList.add("hide"),t.querySelector("#globe .prayers").classList.remove("show"),t.querySelector("#globe .textarea").classList.remove("show"),A.classList.remove("show"),k.classList.add("show"),L.classList.add("show"),n.a.to("#globe .result",{autoAlpha:1}),t.querySelector("#globe .share").classList.add("show"))})),k.addEventListener("click",(function(){i.classList.add("dark-mode"),n.a.to(p,{autoAlpha:0,duration:.4}),n.a.to(t.querySelector("section.petition"),{autoAlpha:1,delay:.4}),n.a.set([h.share,h.btns.create,h.btns.tohome,h.btns.tosign],{autoAlpha:0}),n.a.set([h.by,h.btns.goback],{autoAlpha:1})})),L.addEventListener("click",(function(e){k.classList.remove("show"),L.classList.remove("show"),n.a.to("#globe .result",{autoAlpha:0}),t.querySelector("#globe .share").classList.remove("show"),g=new Array,a.h(".selecteds").html(""),a.i("#globeSvg .keyword.on").classed("on",!1),q(),t.querySelector("#globe .selecteds").classList.remove("hide"),A.classList.add("show"),n.a.to("#globeSvg .keywords",{autoAlpha:1})}));let x=f.selectAll(".keyword").data(r).enter().append("g").attrs({transform:function(e,t){return"rotate("+(y(t)+90)+") translate("+m(-120)+", 0)"},class:function(e,t){return"keyword"}}).on("click",(function(e,o){if(l){let n=g.indexOf(o);if(n>-1){this.classList.remove("on"),g.splice(n,1);var r=t.querySelector('#globe .selected[key="'+o+'"]');return r||console.log(r,o,g),r.remove(),void q()}if(g.length>=3)return;this.classList.add("on"),g.push(o),f.classed("disable",g.length>=3),function(e,t){let o=a.h(".selecteds").append("div").attr("class","selected").attr("key",t);o.append("div").attr("class","close").on("click",(function(e,a){let r=g.indexOf(t);g.splice(r,1),o.remove(),x.nodes()[t].classList.remove("on"),q()})),o.append("div").attr("class","head text").text(e),q()}(e,o),g.length>=3&&d()}else{let e=b.indexOf(o);if(e>-1)return this.classList.remove("on"),void b.splice(e,1);this.classList.add("on"),b.push(o)}}));x.append("path").attrs({d:function(e){return v([0,8])},transform:function(e,t){return"rotate(90)"},stroke:"#525252","stroke-width":.25,"stroke-linecap":"round"}),x.append("rect").attrs({y:-28,x:-20,width:100,height:60,fill:"transparent"}),x.append("g").attrs({class:"text"}).append("text").attrs({dy:"0.31em","text-anchor":function(e,t){let o=y(t);return o>=0&&o<=180?"end":"start"},transform:function(e,t){let o=y(t);return o>=0&&o<=180?"rotate(180)":null}}).text((function(e){return e}))})}(0,v),function(e,t){!function(){let o=e.append("g").attrs({class:"dots"}),r=a.b().radius(2.5).precision(22),n=new Array,s=(a.g().domain([0,50]).range([-180,180]),a.g().domain([0,15]).range([0,90]));for(let e=0;e<50;e++)for(let t=0;t<14;t++){let o=[a.g().domain([0,50-3*t]).range([-180,180])(e),s(t)];r.center(o);let l=r();Math.random()>.5&&(l._hide=!0),n.push(l)}for(let e=50;e>0;e--)for(let t=13;t>0;t--){let o=[a.g().domain([0,50-3*t]).range([-180,180])(e),-1*s(t)];r.center(o);let l=r();Math.random()>.5&&(l._hide=!0),n.push(l)}o.selectAll("path").data(n).enter().append("path").attr("class",(function(e){return e._hide?"dot hide":"dot"})).attr("d",t)}()}(w,y),A=w.selectAll("path")}function y(){let e=t.querySelector("section.about"),o=u.querySelector(".link.about");n.a.set([h.by,h.btns.tohome,h.btns.tosign,h.btns.goback],{autoAlpha:0}),o.addEventListener("click",(function(o){i.classList.add("dark-mode"),n.a.to(t.querySelector("section.petition"),{autoAlpha:0,duration:.4}),n.a.to(p,{autoAlpha:0,duration:.4}),n.a.to(e,{autoAlpha:1,delay:.4}),n.a.set([h.temp,h.share,h.btns.create,h.btns.tohome,h.btns.tosign],{autoAlpha:0}),n.a.set([h.by,h.btns.goback],{autoAlpha:1})})),h.btns.goback.addEventListener("click",(function(o){i.classList.remove("dark-mode"),n.a.to(e,{autoAlpha:0,duration:.4}),n.a.to(t.querySelector("section.petition"),{autoAlpha:0,duration:.4}),n.a.to(p,{autoAlpha:1,delay:.4}),n.a.set([h.by,h.btns.tosign,l?null:h.temp,l?null:h.btns.tohome,l?h.btns.create:null,h.btns.goback],{autoAlpha:0}),n.a.set([h.share,l?h.temp:null,l?h.btns.tohome:null,l?null:h.btns.create],{autoAlpha:1})})),h.btns.create.addEventListener("click",(function(e){g=new Array,a.i("#globeSvg .keyword").classed("on",!1),n.a.set([h.temp,h.btns.create],{autoAlpha:0}),n.a.set([h.btns.tohome],{autoAlpha:1}),function(){l=!0;let e=t.getElementById("globe"),o=e.querySelectorAll(".step"),a=e.querySelectorAll(".select-word"),s=function(e){if(n.a.set(o,{autoAlpha:0}),e<o.length)n.a.set(o[e],{autoAlpha:1}),o[e].querySelector(".txtbox").focus();else{var t=n.a.timeline({});t.to(a[0],{autoAlpha:1}),t.to(a[0],{autoAlpha:0}),t.to(a[1],{autoAlpha:1}),t.to("#globeSvg .keywords",{autoAlpha:1})}};e.querySelectorAll(".answer").forEach((function(e,t){let o=e,a=e.querySelector(".txtbox"),n=e.querySelector(".icon-enter");r(a,{minWidth:!0}),a.addEventListener("input",(function(){o.classList.toggle("entered",""!=this.value)})),n.addEventListener("click",(function(){s(t+1)})),a.addEventListener("keypress",(function(e){13==e.keyCode&&s(t+1)}))})),n.a.to("#globeSvg .keywords",{autoAlpha:0,duration:.4}),n.a.to("#globeSvg .ball",{autoAlpha:.5,duration:.4}),n.a.to("#globeSvg .dots",{autoAlpha:.2,duration:.4}),n.a.set("#globeSvg .dots",{"pointer-events":"none"}),n.a.to(o[0],{autoAlpha:1,duration:.4,onComplete:function(){o[0].querySelector(".txtbox").focus()}})}()})),h.btns.tohome.addEventListener("click",(function(o){g=new Array,n.a.to("#globeSvg .keywords",{autoAlpha:1,duration:.4}),n.a.to("#globeSvg .ball",{autoAlpha:1,duration:.4}),n.a.to("#globeSvg .dots",{autoAlpha:1,duration:.4}),n.a.set("#globeSvg .dots",{"pointer-events":""}),a.i("#globeSvg .keyword").classed("on",!1),a.h("#globe .selecteds").html(""),t.querySelector("#globe .prayers").classList.remove("show"),t.querySelector("#globe .textarea").classList.remove("show"),t.querySelector("#globe .btn.next").classList.add("disabled","show"),t.querySelector("#globe .btn.create").classList.remove("show"),t.querySelector("#globe .btn.sign").classList.remove("show"),t.querySelector("#globe .btn.create-another").classList.remove("show"),t.querySelector("#globe .share").classList.remove("show"),i.classList.remove("dark-mode"),n.a.set(e,{autoAlpha:0}),n.a.set(t.querySelector("section.petition"),{autoAlpha:0}),n.a.to(p,{autoAlpha:1,delay:.4}),n.a.set([h.by,h.btns.tosign,h.btns.tohome,h.btns.goback],{autoAlpha:0}),n.a.set([h.temp,h.btns.create],{autoAlpha:1}),n.a.set(["#globe .step","#globe .select-word","#globe .select-word .tips","#globe .result"],{clearProps:"all"}),l=!1}))}!function(){let e=t.querySelector("#logoAmnesty");a.i(".link.amnesty svg").html((function(){let t=e.cloneNode(!0);return t.removeAttribute("id"),t.outerHTML}))}(),f(),y(),d.btnEnter=d.querySelector(".btn.enter"),d.btnEnter.addEventListener("click",(function(){i.classList.add("enter-site"),n.a.to(u,{autoAlpha:1,duration:2})})),a.h("#mask").classed("hide",!0)}(window,document)}});
//# sourceMappingURL=app.3ec0b08f.js.map